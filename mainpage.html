<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso Intensivo de JaponÃ©s para la Salud</title>
    <!-- Carga de Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos personalizados para transiciones suaves y el estado colapsado */
        body {
            font-family: 'Inter', sans-serif;
            padding-top: 80px; /* Espacio para el header fijo (h-20 en Tailwind) */
            padding-bottom: 40px; /* Espacio para el footer fijo */
        }

        /* Aplica transiciÃ³n a la barra lateral y al contenido principal */
        #sidebar, #main-content-area {
            transition: width 0.3s ease-in-out, margin 0.3s ease-in-out, transform 0.3s ease-in-out;
        }

        /* Oculta los textos de las listas y otros elementos cuando el menÃº estÃ¡ colapsado */
        .sidebar-collapsed .sidebar-text,
        .sidebar-collapsed #firebase-info {
            opacity: 0;
            width: 0;
            overflow: hidden;
            pointer-events: none;
            transition: opacity 0.1s;
        }

        /* Mantiene el padding y el logo visible, pero oculta el texto del tÃ­tulo */
        .sidebar-collapsed #sidebar-title {
            opacity: 0;
            transition: opacity 0.1s;
        }

        /* Estilo para el elemento de lecciÃ³n activa */
        .lesson-active {
            background-color: #f0fdf4; /* Tailwind green-50 */
            border-left: 4px solid #10b981; /* Tailwind emerald-500 */
            color: #059669; /* Tailwind emerald-600 */
            font-weight: 600;
        }

        /* Estilo para lecciones bloqueadas */
        .lesson-locked {
            color: #9ca3af; /* Tailwind gray-400 */
            pointer-events: none;
            cursor: not-allowed;
        }

        /* Estilo del texto rotatorio del footer */
        #rotating-text {
            transition: opacity 0.7s ease-in-out;
        }

        /* Estilos para el sidebar en mÃ³vil */
        @media (max-width: 768px) {
            #sidebar {
                transform: translateX(-100%);
            }
            .sidebar-open #sidebar {
                transform: translateX(0);
            }
            #sidebar {
                width: 100%;
                z-index: 1000;
            }
            #main-content-area {
                margin-left: 0 !important;
            }
        }

        /* Ajustes para el botÃ³n de toggle en el header (para mÃ³vil) */
        #sidebar-toggle-mobile {
            display: none;
        }
        @media (max-width: 768px) {
            #sidebar-toggle-mobile {
                display: block;
            }
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#4f46e5', // Indigo-600
                        'secondary': '#10b981', // Emerald-500
                    },
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">

    <!-- Header Fijo con navegaciÃ³n de utilidades para el profesor -->
    <header id="app-header" class="fixed top-0 left-0 w-full bg-white shadow-xl z-[100] h-20 flex items-center justify-between px-6 border-b border-gray-200">
        <!-- TÃ­tulo / Branding -->
        <div class="flex items-center">
            <!-- BotÃ³n de toggle para mÃ³vil -->
            <button id="sidebar-toggle-mobile" class="mr-4 p-2 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
            <h1 class="text-2xl font-extrabold text-primary tracking-tight">
                Curso Intensivo de JaponÃ©s
            </h1>
        </div>

        <!-- Botones de redirecciÃ³n a las plataformas y al Generador de DiÃ¡logos -->
        <div class="flex items-center space-x-3 md:space-x-4">
            
            <!-- NUEVO: Enlace a Generador de DiÃ¡logos -->
            <a href="https://labs.google/lll/en/experiments/tiny-lesson" class="flex items-center px-3 py-2 text-sm font-semibold rounded-full text-gray-700 bg-gray-100 hover:bg-gray-200 transition duration-150 transform hover:scale-[1.03] border border-gray-300">
                <!-- Icono de AI/Robot -->
                <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 10v2m14-2v2M4 16h16m-4-4h-4m-4 0h-4m12 0v-4m-4 4v4m-4-4v-4m0 4h4m4-4H8m8 0h-4m4 4h-4m4 0v4m0-4v-4m0 0h4m-4 0h4m-4 0H8m8 0h4m-4 0v4"></path></svg>
                Generador
            </a>

            <!-- Enlace a Duolingo for Schools -->
            <a href="https://schools.duolingo.com/classroom/8504538/" target="_blank" class="flex items-center px-4 py-2 text-sm font-semibold rounded-full text-white bg-green-500 hover:bg-green-600 transition duration-150 shadow-md transform hover:scale-[1.03]">
                <!-- Icono de Duolingo -->
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.206 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.794 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.794 5 16.5 5s3.332.477 4.5 1.253v13C19.832 18.477 18.206 18 16.5 18s-3.332.477-4.5 1.253"></path></svg>
                Duolingo
            </a>
            <!-- Enlace a Google Classroom -->
            <a href="https://classroom.google.com/c/NzgwNTAwNDE2NjU2?cjc=zhpwyng4" target="_blank" class="hidden md:flex items-center px-4 py-2 text-sm font-semibold rounded-full text-primary bg-indigo-100 hover:bg-indigo-200 transition duration-150 border border-indigo-300 transform hover:scale-[1.03]">
                <!-- Icono de Google Classroom -->
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11 2h2v5h-2V2zM11 9h2v5h-2V9zM11 16h2v5h-2v-5zM4 11h5v2H4v-2zM15 11h5v2h-5v-2zM7 4H5v2h2V4zM17 4h-2v2h2V4zM7 18H5v2h2v-2zM17 18h-2v2h2v-2z"></path></svg>
                Classroom
            </a>
        </div>
    </header>
    <!-- Fin del Header Fijo -->

    <!-- Sidebar Fija -->
    <aside id="sidebar" class="fixed top-0 left-0 h-full w-72 bg-white shadow-2xl overflow-y-auto z-40 pt-20 flex flex-col">
        <!-- Logo y TÃ­tulo -->
        <div class="p-6 pb-4 border-b border-gray-100 flex items-center justify-start space-x-3">
            <svg class="w-8 h-8 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            <h2 id="sidebar-title" class="text-xl font-bold text-gray-900 sidebar-text">MenÃº del Curso</h2>
        </div>

        <!-- BotÃ³n de colapso -->
        <button id="sidebar-toggle" class="absolute top-24 -right-3 w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center shadow-lg transform hover:scale-110 focus:outline-none z-50 transition duration-300 hidden md:flex">
            <svg id="toggle-icon" class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path></svg>
        </button>
        
        <!-- Lista de Lecciones/MÃ³dulos -->
        <nav class="flex-grow p-4 space-y-2">
            <!-- Lecciones Habilitadas (1 a 4) -->
            <a href="#" id="lesson-1-link" class="lesson-link flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="1">
                <span class="w-6 text-center text-green-500 font-bold mr-3">â—</span>
                <span class="sidebar-text">LecciÃ³n 1: Saludos y presentaciones ğŸ‘‹</span>
            </a>
            <a href="#" id="lesson-2-link" class="lesson-link flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="2">
                <span class="w-6 text-center text-green-500 font-bold mr-3">â—</span>
                <span class="sidebar-text">LecciÃ³n 2: Frases esenciales para el dÃ­a a dÃ­a ğŸ™</span>
            </a>
            <a href="#" id="lesson-3-link" class="lesson-link flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="3">
                <span class="w-6 text-center text-green-500 font-bold mr-3">â—</span>
                <span class="sidebar-text">LecciÃ³n 3: AnatomÃ­a y vocabulario del cuerpo ğŸ¦´ğŸ’ª</span>
            </a>
            <a href="#" id="lesson-4-link" class="lesson-link flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="4">
                <span class="w-6 text-center text-green-500 font-bold mr-3">â—</span>
                <span class="sidebar-text">LecciÃ³n 4: DiÃ¡logos de Consulta MÃ©dica ğŸ—£ï¸</span>
            </a>

            <!-- Lecciones Bloqueadas (5 a 11) -->
            <a href="#" class="lesson-link lesson-locked flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="5">
                <span class="w-6 text-center text-gray-500 font-bold mr-3">âŒ</span>
                <span class="sidebar-text">LecciÃ³n 5: Tratamientos y Medicamentos ğŸ’Š</span>
            </a>
            <a href="#" class="lesson-link lesson-locked flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="6">
                <span class="w-6 text-center text-gray-500 font-bold mr-3">âŒ</span>
                <span class="sidebar-text">LecciÃ³n 6: OrientaciÃ³n en el Hospital ğŸ¥</span>
            </a>
            <a href="#" class="lesson-link lesson-locked flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="7">
                <span class="w-6 text-center text-gray-500 font-bold mr-3">âŒ</span>
                <span class="sidebar-text">LecciÃ³n 7: Restaurantes y tiendas ğŸ£ğŸ›ï¸</span>
            </a>
            <a href="#" class="lesson-link lesson-locked flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="8">
                <span class="w-6 text-center text-gray-500 font-bold mr-3">âŒ</span>
                <span class="sidebar-text">LecciÃ³n 8: Vivienda y servicios ğŸ¡ğŸ’¡</span>
            </a>
            <a href="#" class="lesson-link lesson-locked flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="9">
                <span class="w-6 text-center text-gray-500 font-bold mr-3">âŒ</span>
                <span class="sidebar-text">LecciÃ³n 9: Emergencias y problemas ğŸš¨ğŸš‘</span>
            </a>
            <a href="#" class="lesson-link lesson-locked flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="10">
                <span class="w-6 text-center text-gray-500 font-bold mr-3">âŒ</span>
                <span class="sidebar-text">LecciÃ³n 10: ConversaciÃ³n informal y vida social ğŸ—£ï¸ğŸ˜Š</span>
            </a>
            <a href="#" class="lesson-link lesson-locked flex items-center p-3 text-base rounded-lg hover:bg-gray-100" data-lesson-id="11">
                <span class="w-6 text-center text-gray-500 font-bold mr-3">âŒ</span>
                <span class="sidebar-text">LecciÃ³n 11: Repaso y prÃ¡ctica de roles âœ…</span>
            </a>
        </nav>

        <!-- InformaciÃ³n de Firebase (Conservado del original) -->
        <div id="firebase-info" class="p-6 border-t border-gray-100 mt-auto">
            <p class="text-sm font-semibold text-gray-700">ID del Usuario (Demo):</p>
            <p id="user-id" class="text-xs text-gray-500 break-all">user-dummy-1234567890</p>
            <p class="text-sm font-semibold text-gray-700 mt-2">Estado:</p>
            <p class="text-xs text-green-500 font-mono">Conectado (offline mode)</p>
        </div>
    </aside>

    <!-- Contenido Principal -->
    <main id="main-content-area" class="p-4 md:p-8 min-h-screen">
        <div id="lesson-content" class="bg-white p-6 md:p-10 rounded-xl shadow-lg transition-all duration-300 min-h-[calc(100vh-140px)]">
            <!-- El contenido de la lecciÃ³n cargada se insertarÃ¡ aquÃ­ -->
            <h2 class="text-3xl font-bold text-gray-900 mb-6">Cargando LecciÃ³n...</h2>
            <div class="animate-pulse space-y-4">
                <div class="h-4 bg-gray-200 rounded w-3/4"></div>
                <div class="h-4 bg-gray-200 rounded"></div>
                <div class="h-4 bg-gray-200 rounded w-5/6"></div>
            </div>
        </div>
    </main>
    <!-- Fin del Contenido Principal -->

    <!-- Footer Intermitente con Botones de Instagram -->
    <footer class="fixed bottom-0 left-0 w-full bg-gray-800 text-white p-3 text-sm z-50">
        <div class="flex items-center justify-between max-w-7xl mx-auto">
            <!-- BotÃ³n Izquierdo: ZV Academy -->
            <a href="https://www.instagram.com/zvacademy_vzla" target="_blank" title="Instagram ZV Academy" class="p-2 rounded-full bg-pink-600 hover:bg-pink-700 transition duration-150 transform hover:scale-110 flex items-center justify-center">
                <!-- Icono de Instagram -->
                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm4.195 2.651c.328 0 .584.004.81.011.666.017 1.134.148 1.542.316.41.17.766.412 1.09.736.324.324.566.68.736 1.09.168.408.299.876.316 1.542.007.226.011.482.011.81v6.234c0 .328-.004.584-.011.81-.017.666-.148 1.134-.316 1.542-.17.41-.412.766-.736 1.09-.324.324-.68.566-1.09.736-.408.168-.876.299-1.542.316-.226.007-.482.011-.81.011H7.805c-.328 0-.584-.004-.81-.011-.666-.017-1.134-.148-1.542-.316-.41-.17-.766-.412-1.09-.736-.324-.324-.68-.566-1.09-.736-.168-.408-.299-.876-.316-1.542-.007-.226-.011-.482-.011-.81V7.805c0-.328.004-.584.011-.81.017-.666.148-1.134.316-1.542.17-.41.412-.766.736-1.09.324-.324.68-.566 1.09-.736.408-.168.876-.299 1.542-.316.226-.007.482-.011.81-.011h6.234zm0 2H7.805c-.27 0-.46.002-.676.01-.58.016-.948.131-1.258.26-.31.13-.57.29-.806.526-.236.236-.396.496-.526.806-.13.31-.244.678-.26 1.258-.008.216-.01.406-.01.676v6.234c0 .27.002.46.01.676.016.58.131.948.26 1.258.13.31.29.57.526.806.236.236.496.396.806.526.31.13.678.244 1.258.26.216.008.406.01.676.01h6.234c.27 0 .46-.002.676-.01.58-.016.948-.131 1.258-.26.31-.13.57-.29.806-.526.236-.236.396-.496.526-.806.13-.31.244-.678.26-1.258.008-.216.01-.406.01-.676V7.805c0-.27-.002-.46-.01-.676-.016-.58-.131-.948-.26-1.258-.13-.31-.29-.57-.526-.806-.236-.236-.496-.396-.806-.526-.31-.13-.678-.244-1.258-.26-.216-.008-.406-.01-.676-.01H7.805zM12 7.788c-2.32 0-4.212 1.892-4.212 4.212s1.892 4.212 4.212 4.212 4.212-1.892 4.212-4.212-1.892-4.212-4.212-4.212zm0 2c1.218 0 2.212.994 2.212 2.212s-.994 2.212-2.212 2.212-2.212-.994-2.212-2.212 2.212-2.212 2.212-2.212zm4.195-2.212a.965.965 0 100 1.93.965.965 0 000-1.93z"></path></svg>
            </a>
            
            <!-- Texto Rotatorio (Centrado) -->
            <div id="rotating-text" class="flex-grow text-center mx-4 transition-opacity duration-700 ease-in-out"></div>

            <!-- BotÃ³n Derecho: FundaciÃ³n Sugawara -->
            <a href="https://www.instagram.com/fundacionsugawara" target="_blank" title="Instagram FundaciÃ³n Sugawara" class="p-2 rounded-full bg-pink-600 hover:bg-pink-700 transition duration-150 transform hover:scale-110 flex items-center justify-center">
                <!-- Icono de Instagram -->
                <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm4.195 2.651c.328 0 .584.004.81.011.666.017 1.134.148 1.542.316.41.17.766.412 1.09.736.324.324.566.68.736 1.09.168.408.299.876.316 1.542.007.226.011.482.011.81v6.234c0 .328-.004.584-.011.81-.017.666-.148 1.134-.316 1.542-.17.41-.412.766-.736 1.09-.324.324-.68.566-1.09.736-.408.168-.876.299-1.542.316-.226.007-.482.011-.81.011H7.805c-.328 0-.584-.004-.81-.011-.666-.017-1.134-.148-1.542-.316-.41-.17-.766-.412-1.09-.736-.324-.324-.68-.566-1.09-.736-.168-.408-.299-.876-.316-1.542-.007-.226-.011-.482-.011-.81V7.805c0-.328.004-.584.011-.81.017-.666.148-1.134.316-1.542.17-.41.412-.766.736-1.09.324-.324.68-.566 1.09-.736.408-.168.876-.299 1.542-.316.226-.007.482-.011.81-.011h6.234zm0 2H7.805c-.27 0-.46.002-.676.01-.58.016-.948.131-1.258.26-.31.13-.57.29-.806.526-.236.236-.396.496-.526.806-.13.31-.244.678-.26 1.258-.008.216-.01.406-.01.676v6.234c0 .27.002.46.01.676.016.58.131.948.26 1.258.13.31.29.57.526.806.236.236.496.396.806.526.31.13.678.244 1.258.26.216.008.406.01.676.01h6.234c.27 0 .46-.002.676-.01.58-.016.948-.131 1.258-.26.31-.13.57-.29.806-.526.236-.236.396-.496.526-.806.13-.31.244-.678.26-1.258.008-.216.01-.406.01-.676V7.805c0-.27-.002-.46-.01-.676-.016-.58-.131-.948-.26-1.258-.13-.31-.29-.57-.526-.806-.236-.236-.496-.396-.806-.526-.31-.13-.678-.244-1.258-.26-.216-.008-.406-.01-.676-.01H7.805zM12 7.788c-2.32 0-4.212 1.892-4.212 4.212s1.892 4.212 4.212 4.212 4.212-1.892 4.212-4.212-1.892-4.212-4.212-4.212zm0 2c1.218 0 2.212.994 2.212 2.212s-.994 2.212-2.212 2.212-2.212-.994-2.212-2.212 2.212-2.212 2.212-2.212zm4.195-2.212a.965.965 0 100 1.93.965.965 0 000-1.93z"></path></svg>
            </a>
        </div>
    </footer>
    <!-- Fin del Footer Intermitente con Botones de Instagram -->

    <script>
        // --- DATA DE LECCIONES ---
        const lessonData = {
            'lesson-1': `
                <h2 class="text-4xl font-extrabold text-primary mb-6 border-b pb-2">LecciÃ³n 1: Saludos y presentaciones ğŸ‘‹</h2>
                <p class="text-lg text-gray-700 mb-8">Objetivo: Saber presentarse y establecer un primer contacto en un entorno profesional o social japonÃ©s.</p>
                
                <h3 class="text-2xl font-semibold text-gray-800 mb-4">Frases Clave</h3>
                <div class="bg-gray-100 p-4 rounded-lg shadow-inner space-y-3 mb-8">
                    <p class="font-mono text-sm text-green-700">Buenos dÃ­as/tardes: ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ (OhayÅ gozaimasu) / ã“ã‚“ã«ã¡ã¯ (Konnichiwa)</p>
                    <p class="font-mono text-sm text-indigo-700">Mi nombre es [X]: ã‚ãŸã—ã® ãªã¾ãˆã¯ [X] ã§ã™ã€‚ (Watashi no namae wa [X] desu.)</p>
                    <p class="font-mono text-sm text-green-700">Soy fisioterapeuta: ã‚ãŸã—ã¯ ã‚Šã‚‡ã†ã»ã†ã— ã§ã™ã€‚ (Watashi wa rigaku ryÅhÅshi desu.)</p>
                </div>

                <h3 class="text-2xl font-semibold text-gray-800 mb-4">PrÃ¡ctica</h3>
                <p class="text-base text-gray-600 mb-6">Graba tu propia presentaciÃ³n usando las frases de arriba. Â¡AsegÃºrate de practicar el acento!</p>
            `,
            'lesson-2': `
                <h2 class="text-4xl font-extrabold text-primary mb-6 border-b pb-2">LecciÃ³n 2: Frases esenciales para el dÃ­a a dÃ­a ğŸ™</h2>
                <p class="text-lg text-gray-700 mb-8">Objetivo: Manejar situaciones comunes, pedir ayuda y expresar gratitud o disculpa de manera correcta.</p>
                
                <h3 class="text-2xl font-semibold text-gray-800 mb-4">Vocabulario de cortesÃ­a</h3>
                <div class="bg-gray-100 p-4 rounded-lg shadow-inner space-y-3 mb-8">
                    <p class="font-mono text-sm text-green-700">Gracias: ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ (ArigatÅ gozaimasu)</p>
                    <p class="font-mono text-sm text-indigo-700">Por favor/Deme esto: ãŠã­ãŒã„ã—ã¾ã™ (Onegai shimasu)</p>
                    <p class="font-mono text-sm text-green-700">Disculpe/Lo siento: ã”ã‚ã‚“ãªã•ã„ (Gomen nasai) / ã™ã¿ã¾ã›ã‚“ (Sumimasen)</p>
                </div>
                
                <h3 class="text-2xl font-semibold text-gray-800 mb-4">CÃ³mo pedir ayuda/direcciones</h3>
                <p class="text-base text-gray-600 mb-6">Â¿DÃ³nde estÃ¡ el baÃ±o? (ãƒˆã‚¤ãƒ¬ã¯ã©ã“ã§ã™ã‹ï¼Ÿ - Toire wa doko desu ka?)</p>
            `,
            'lesson-3': `
                <h2 class="text-4xl font-extrabold text-primary mb-6 border-b pb-2">LecciÃ³n 3: AnatomÃ­a y vocabulario del cuerpo ğŸ¦´ğŸ’ª</h2>
                <p class="text-lg text-gray-700 mb-8">Objetivo: Conocer el vocabulario esencial de las partes del cuerpo y la anatomÃ­a para comunicarse con pacientes y colegas.</p>
                
                <h3 class="text-2xl font-semibold text-gray-800 mb-4">TÃ©rminos Clave</h3>
                <div class="bg-gray-100 p-4 rounded-lg shadow-inner space-y-3 mb-8">
                    <p class="font-mono text-sm text-green-700">Cabeza: ã‚ãŸã¾ (Atama)</p>
                    <p class="font-mono text-sm text-indigo-700">Espalda: ã›ãªã‹ (Senaka)</p>
                    <p class="font-mono text-sm text-green-700">Hueso: ã»ã­ (Hone)</p>
                    <p class="font-mono text-sm text-indigo-700">MÃºsculo: ãã‚“ã«ã (Kin'niku)</p>
                </div>

                <h3 class="text-2xl font-semibold text-gray-800 mb-4">Recursos Adicionales</h3>
                <p class="text-base text-gray-600 mb-6">Accede a un recurso visual interactivo para reforzar tu vocabulario de anatomÃ­a.</p>

                <!-- BotÃ³n de RedirecciÃ³n a kaibougaku.html -->
                <a href="kaibougaku.html" class="inline-block px-6 py-3 bg-secondary text-white font-bold rounded-lg hover:bg-emerald-600 transition duration-300 shadow-md">
                    Ir a Vocabulario AnatÃ³mico (Kaibougaku)
                </a>
            `,
            'lesson-4': `
                <h2 class="text-4xl font-extrabold text-primary mb-6 border-b pb-2">LecciÃ³n 4: DiÃ¡logos de Consulta MÃ©dica ğŸ—£ï¸</h2>
                <p class="text-lg text-gray-700 mb-8">Objetivo: Practicar conversaciones sobre sÃ­ntomas, localizaciÃ³n del dolor y duraciÃ³n de la enfermedad.</p>
                
                <h3 class="text-2xl font-semibold text-gray-800 mb-4">Escenario: DescripciÃ³n del Dolor</h3>
                <div class="bg-gray-100 p-4 rounded-lg shadow-inner space-y-3 mb-8">
                    <p class="font-mono text-sm text-green-700">Â¿DÃ³nde le duele?: ã©ã“ãŒ ã„ãŸã„ã§ã™ã‹ï¼Ÿ (Doko ga itai desu ka?)</p>
                    <p class="font-mono text-sm text-indigo-700">Me duele la rodilla: ã²ã–ãŒ ã„ãŸã„ ã§ã™ã€‚ (Hiza ga itai desu.)</p>
                    <p class="font-mono text-sm text-green-700">Â¿Desde cuÃ¡ndo?: ã„ã¤ã‹ã‚‰ã§ã™ã‹ï¼Ÿ (Itsu kara desu ka?)</p>
                </div>

                <h3 class="text-2xl font-semibold text-gray-800 mb-4">Recursos Adicionales</h3>
                <p class="text-base text-gray-600 mb-6">Utiliza nuestra herramienta interactiva para practicar el vocabulario mÃ©dico especÃ­fico.</p>
                
                <!-- BotÃ³n de RedirecciÃ³n a vocab.html -->
                <a href="vocab.html" class="inline-block px-6 py-3 bg-secondary text-white font-bold rounded-lg hover:bg-emerald-600 transition duration-300 shadow-md">
                    Ir a Herramienta de Vocabulario (Vocab)
                </a>
            `,
            'lesson-5': `<h2 class="text-4xl font-extrabold text-red-500 mb-6">LecciÃ³n 5 Bloqueada âŒ</h2><p class="text-lg text-gray-700">LecciÃ³n 5: Tratamientos y Medicamentos. Debes completar las lecciones anteriores para acceder a este contenido.</p>`,
            'lesson-6': `<h2 class="text-4xl font-extrabold text-red-500 mb-6">LecciÃ³n 6 Bloqueada âŒ</h2><p class="text-lg text-gray-700">LecciÃ³n 6: OrientaciÃ³n en el Hospital. Debes completar las lecciones anteriores para acceder a este contenido.</p>`,
            'lesson-7': `<h2 class="text-4xl font-extrabold text-red-500 mb-6">LecciÃ³n 7 Bloqueada âŒ</h2><p class="text-lg text-gray-700">LecciÃ³n 7: Restaurantes y tiendas. Debes completar las lecciones anteriores para acceder a este contenido.</p>`,
            'lesson-8': `<h2 class="text-4xl font-extrabold text-red-500 mb-6">LecciÃ³n 8 Bloqueada âŒ</h2><p class="text-lg text-gray-700">LecciÃ³n 8: Vivienda y servicios. Debes completar las lecciones anteriores para acceder a este contenido.</p>`,
            'lesson-9': `<h2 class="text-4xl font-extrabold text-red-500 mb-6">LecciÃ³n 9 Bloqueada âŒ</h2><p class="text-lg text-gray-700">LecciÃ³n 9: Emergencias y problemas. Debes completar las lecciones anteriores para acceder a este contenido.</p>
                <p class="text-sm text-gray-500 mt-4">Contenido: Pedir ayuda en situaciones crÃ­ticas. Llamar a una ambulancia.</p>`,
            'lesson-10': `<h2 class="text-4xl font-extrabold text-red-500 mb-6">LecciÃ³n 10 Bloqueada âŒ</h2><p class="text-lg text-gray-700">LecciÃ³n 10: ConversaciÃ³n informal y vida social. Debes completar las lecciones anteriores para acceder a este contenido.</p>`,
            'lesson-11': `<h2 class="text-4xl font-extrabold text-red-500 mb-6">LecciÃ³n 11 Bloqueada âŒ</h2><p class="text-lg text-gray-700">LecciÃ³n 11: Repaso y prÃ¡ctica de roles. Debes completar las lecciones anteriores para acceder a este contenido.</p>`,
        };

        // --- FUNCIONALIDAD DEL SIDEBAR ---

        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('main-content-area');
        const toggleButton = document.getElementById('sidebar-toggle');
        const toggleIcon = document.getElementById('toggle-icon');
        const toggleButtonMobile = document.getElementById('sidebar-toggle-mobile');
        let isCollapsed = false;

        function toggleSidebar() {
            if (isCollapsed) {
                // Expandir
                document.body.classList.remove('sidebar-collapsed');
                sidebar.style.width = '288px'; // w-72
                // Usar media query para el margen en escritorio
                if (window.innerWidth >= 768) {
                    mainContent.style.marginLeft = '288px';
                }
                toggleIcon.innerHTML = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path>`; // Flechas hacia la izquierda
            } else {
                // Colapsar
                document.body.classList.add('sidebar-collapsed');
                sidebar.style.width = '80px'; // w-20 (aproximadamente, se ajusta con CSS)
                // Usar media query para el margen en escritorio
                if (window.innerWidth >= 768) {
                    mainContent.style.marginLeft = '80px';
                }
                toggleIcon.innerHTML = `<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7"></path>`; // Flechas hacia la derecha
            }
            isCollapsed = !isCollapsed;
        }

        // Manejador para el botÃ³n de escritorio
        toggleButton.addEventListener('click', toggleSidebar);

        // Manejador para el botÃ³n de mÃ³vil
        toggleButtonMobile.addEventListener('click', () => {
            document.body.classList.toggle('sidebar-open');
        });

        // Cierra la sidebar en mÃ³vil al hacer clic en un enlace de lecciÃ³n
        document.querySelectorAll('.lesson-link').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    document.body.classList.remove('sidebar-open');
                }
            });
        });

        // Manejador de eventos para los enlaces de lecciÃ³n
        document.querySelectorAll('.lesson-link').forEach(link => {
            // Previene el comportamiento por defecto de los enlaces
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const lessonId = parseInt(e.currentTarget.getAttribute('data-lesson-id'));
                // Verificar si la lecciÃ³n estÃ¡ bloqueada
                if (!e.currentTarget.classList.contains('lesson-locked')) {
                    loadLesson(lessonId, e.currentTarget);
                } else {
                     // Si estÃ¡ bloqueada, carga el contenido de "lecciÃ³n bloqueada" para mostrar el mensaje
                    loadLesson(lessonId, null);
                }
            });
        });

        /**
         * Carga el contenido de una lecciÃ³n en el Ã¡rea principal.
         * @param {number} lessonId - El ID numÃ©rico de la lecciÃ³n a cargar.
         * @param {HTMLElement | null} clickedElement - El elemento del enlace que fue clicado (o null si fue bloqueado).
         */
        function loadLesson(lessonId, clickedElement) {
            const lessonKey = `lesson-${lessonId}`;
            const contentArea = document.getElementById('lesson-content');

            if (lessonData[lessonKey]) {
                // 1. Mostrar contenido de la lecciÃ³n
                contentArea.innerHTML = lessonData[lessonKey];

                // 2. Limpiar estilos 'lesson-active' de todos los enlaces
                document.querySelectorAll('.lesson-link').forEach(link => {
                    link.classList.remove('lesson-active');
                    
                    // 3. Restaurar el Ã­cono de 'â—' y color en los enlaces no clicados (si no estÃ¡n bloqueados)
                    if (!link.classList.contains('lesson-locked')) {
                        const iconSpan = link.querySelector('span:first-child');
                        iconSpan.textContent = 'â—';
                        iconSpan.classList.add('text-green-500', 'font-bold');
                        iconSpan.classList.remove('text-primary'); // Asegurar que el color sea verde
                    }
                });

                // 4. Establecer la clase 'lesson-active' y el Ã­cono de 'â–¶' solo en el elemento clicado (si no es null)
                if (clickedElement) {
                    clickedElement.classList.add('lesson-active');
                    const iconSpan = clickedElement.querySelector('span:first-child');
                    iconSpan.textContent = 'â–¶';
                    iconSpan.classList.remove('text-green-500', 'font-bold');
                    iconSpan.classList.add('text-primary'); // Establecer el color principal para el Ã­cono activo
                }
            } else {
                console.error('Contenido de lecciÃ³n no encontrado:', lessonKey);
            }
        }

        // --- FUNCIONALIDAD DEL FOOTER ---
        const footerTexts = [
            "âœ¨ Â¡Aprender es la clave para el crecimiento profesional!",
            "ğŸ‡¯ğŸ‡µ Domina el japonÃ©s mÃ©dico con nuestros cursos intensivos.",
            "ğŸš€ Genera diÃ¡logos realistas para tus clases con IA.",
            "ğŸ“š Accede a recursos exclusivos para profesores."
        ];

        let currentFooterIndex = 0;
        const rotatingTextElement = document.getElementById('rotating-text');
        
        function rotateFooterText() {
            if (rotatingTextElement) {
                // Fade out
                rotatingTextElement.style.opacity = '0';
                
                setTimeout(() => {
                    // Change text
                    currentFooterIndex = (currentFooterIndex + 1) % footerTexts.length;
                    rotatingTextElement.textContent = footerTexts[currentFooterIndex];
                    
                    // Fade in
                    rotatingTextElement.style.opacity = '1';
                }, 700); // Tiempo igual a la transiciÃ³n CSS
            }
        }
        // --- FIN FUNCIONALIDAD DEL FOOTER ---


        // Inicializar el estado de la barra lateral y cargar la LecciÃ³n 1 al cargar
        document.addEventListener('DOMContentLoaded', () => {
            // Establecer el margen inicial para el contenido principal basado en el ancho de la sidebar
            if (window.innerWidth >= 768) {
                document.getElementById('main-content-area').style.marginLeft = '288px'; // w-72
            }
            
            // Cargar la lecciÃ³n 1 al iniciar
            const initialLink = document.getElementById('lesson-1-link');
            loadLesson(1, initialLink);

            // Iniciar la rotaciÃ³n del texto del footer
            if (rotatingTextElement) {
                // Muestra el primer texto inmediatamente
                rotatingTextElement.textContent = footerTexts[0];
                rotatingTextElement.style.opacity = '1';
                // Comienza el ciclo de rotaciÃ³n
                setInterval(rotateFooterText, 5000); // Rota cada 5 segundos
            }
        });

    </script>
</body>
</html>
